# SimpleCovSmallBadge

[![Build Status](...)](...)
[![Depfu](...)](...)
![Coverage]()

*SimpleCovBadge* is a gem that can be added to the `Gemfile` and will produce a file called `coverage_badge.png` in the `coverage` directory.
It could be looking as follows dependent on how it is configured.

...

The idea is to created a badge for [SimpleCov](https://github.com/colszowka/simplecov) to create a persistable image that shows the coverage in percent as a badge.

## Installation

The badge creation is dependent on the [MiniMagic gem](https://github.com/colszowka/simplecov) which requires the [ImageMagick](http://www.imagemagick.org/index.php) software.
It can be installed in your Ruby library or rails app as part of the `Gemfile` as follows.

```
# In your gemfile
gem 'simplecov-small-badge', :require => false
```

This gem is an alternative and inspired by the great work in the other gem [simplecov-badge](https://github.com/matthew342/simplecov-badge) which does a similar badge but looks different and cannot easily made small. So it's mostly an optical alternative.

## Usage

Whereever you are integrating `SimpleCov` you can configure the `SimpleCovSmallBadge` gem as any formater can be configured. The default integration could looks as follows:

```
# Wherever your SimpleCov.start block is (spec_helper.rb, test_helper.rb, or .simplecov)
SimpleCov.start do
	require 'simple-cov-small-badge'
	# add your normal SimpleCov configs
	add_filter "/app/model"
	# configure any options you want for SimpleCov::Formatter::BadgeFormatter
	SimpleCovSmallBadge::Formatter.configure do |config|
      config.with_groups = true
    end
	# call SimpleCov::Formatter::BadgeFormatter after the normal HTMLFormatter
	SimpleCov.formatter = SimpleCov::Formatter::MultiFormatter[
		SimpleCov::Formatter::HTMLFormatter,
		SimpleCovSimpleBadge::Formatter,
	]
end
```

A full list of configurables and their values can be retrieved from [configuration](lib/simple_cov_small_badge/configuration.rb).

## Integration into CI via github-pages

For a good description see [SimpleCov Badge - if you want to store your coverage with github-pages](https://github.com/matthew342/simplecov-badge#if-you-want-to-store-your-coverage-reports-in-github-pages)

## Configuration Options

The behaviour of `SimpleCovBadge` can be influenced by configuration options. 
